(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{400:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("在多网卡环境下，我们可能通过指定网卡所对应的 IP 提供 Server 服务。此时，你所需要做的就是选择带"),t("code",[s._v("host")]),s._v("参数的"),t("code",[s._v("AioQuickServer")]),s._v("构造方法。")]),s._v(" "),t("p",[s._v("例如：当前服务器存在两个IP，分别为："),t("code",[s._v("127.0.0.1")]),s._v(" 和"),t("code",[s._v("192.168.3.29")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("en0: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("flags")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("886")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("646")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("RXCSUM,TXCSUM,TSO4,TSO6,CHANNEL_IO,PARTIAL_CSUM,ZEROINVERT_CSUM"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\tether f8:4d:89:8c:43:c8\n\tinet6 fe80::c98:fb16:21e8:8859%en0 prefixlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" secured scopeid 0xe\n\tinet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".3.29 netmask 0xffffff00 broadcast "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".3.255\n\tnd6 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v("<")]),s._v("PERFORMNUD,DAD"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\tmedia: autoselect\n\tstatus: active\nlo0: "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("flags")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("804")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v("<")]),s._v("UP,LOOPBACK,RUNNING,MULTICAST"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16384")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v("<")]),s._v("RXCSUM,TXCSUM,TXSTATUS,SW_TIMESTAMP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\tinet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 netmask 0xff000000\n\tinet6 ::1 prefixlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n\tinet6 fe80::1%lo0 prefixlen "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" scopeid 0x1\n\tnd6 "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("options")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v("<")]),s._v("PERFORMNUD,DAD"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("倘若我们在构造"),t("code",[s._v("AioQuickServer")]),s._v("示例时指定了"),t("code",[s._v("host")]),s._v("为"),t("code",[s._v("192.168.3.29")]),s._v("，便可将端口号为：8888 的 Server 服务绑定在 IP 为 "),t("code",[s._v("192.168.3.29")]),s._v(" 对应的网卡上。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AioQuickServer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"192.168.3.29"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringProtocol")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" processor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果客户端此时使用"),t("code",[s._v("localhost")]),s._v("去请求端口：8888，则会触发异常：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Caused by: java.net.ConnectException: Connection refused\n\tat sun.nio.ch.Net.connect0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Native Method"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat sun.nio.ch.Net.connect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Net.java:482"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat sun.nio.ch.Net.connect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Net.java:474"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat sun.nio.ch.SocketChannelImpl.connect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SocketChannelImpl.java:647"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat org.smartboot.socket.enhance.EnhanceAsynchronousSocketChannel.doConnect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EnhanceAsynchronousSocketChannel.java:321"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat org.smartboot.socket.enhance.EnhanceAsynchronousSocketChannel.connect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("EnhanceAsynchronousSocketChannel.java:224"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat org.smartboot.socket.transport.AioQuickClient.start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AioQuickClient.java:146"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat org.smartboot.socket.transport.AioQuickClient.start"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AioQuickClient.java:197"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);