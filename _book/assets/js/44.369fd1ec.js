(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{418:function(t,a,s){"use strict";s.r(a);var e=s(7),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("IdleStatePlugin 插件是对心跳插件 "),a("RouterLink",{attrs:{to:"/smart-socket/07.插件/10.HeartPlugin.html"}},[t._v("HeartPlugin")]),t._v(" 的补充，因为某些场景下通信双方并未涉及心跳消息。")],1),t._v(" "),a("p",[t._v("当 TCP 连接在指定时长内无数据收发行为时，视为通信状态异常，并断开TCP连接。")]),t._v(" "),a("h2",{attrs:{id:"构造参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构造参数"}},[t._v("#")]),t._v(" 构造参数")]),t._v(" "),a("ul",[a("li",[t._v("idleTimeout：空闲超时时长。超过此时长无通信数据，将断开连接。")]),t._v(" "),a("li",[t._v("readMonitor：是否对读通道作空闲超时监听。")]),t._v(" "),a("li",[t._v("writeMonitor：是否对写通道作空闲超时监听。")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("若 readMonitor 和 writeMonitor 同时为 false，将触发异常。")])]),t._v(" "),a("h2",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),a("p",[t._v("完整示例见："),a("a",{attrs:{href:"https://gitee.com/smartboot/smart-socket/blob/master/example/src/main/java/org/smartboot/socket/example/plugins/IdleStatePluginDemo.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("IdleStatePluginDemo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("processor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IdleStatePlugin")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);