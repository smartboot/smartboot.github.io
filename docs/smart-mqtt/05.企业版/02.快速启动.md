---
title: å¿«é€Ÿå¯åŠ¨
date: 2023-07-19 21:29:22
permalink: /smart-mqtt/how-to-start.html
---

## è·å¾—æˆæƒå‡­è¯
å¯¹äºè·å¾—smart-mqttä¼ä¸šç‰ˆä½¿ç”¨æˆæƒèµ„æ ¼çš„ç”¨æˆ·ï¼Œæˆ‘ä»¬ä¼šä¸ºå‘æ”¾ä¸€ä»½åä¸ºï¼š`License.shield`çš„æˆæƒæ–‡ä»¶ã€‚
é€šè¿‡è¯¥æ–‡ä»¶ï¼Œå¯ä»¥å¼€å¯smart-mqttä¼ä¸šç‰ˆçš„å„é¡¹é«˜çº§ç‰¹æ€§ã€‚
::: warning æ¸©é¦¨æç¤º
è·å¾—æˆæƒèµ„æ ¼çš„ä¼ä¸šæœ‰ä¹‰åŠ¡ï¼Œä¹Ÿæœ‰è´£ä»»å¦¥å–„ä¿ç®¡è¯¥æˆæƒæ–‡ä»¶ã€‚
è‹¥å‡ºç°è¿è§„è¡Œä¸ºè‡´ä½¿éæˆæƒå¯¹è±¡ä½¿ç”¨äº†ä¼ä¸šç‰ˆåŠŸèƒ½ï¼Œå°†è¢«åˆ—å…¥é»‘åå•ä¸”ä¸å†å…è®¸ä½¿ç”¨smartbootç›¸å…³æŠ€æœ¯å’Œäº§å“ã€‚
:::

## ä¸‹è½½ä¼ä¸šç‰ˆå‘è¡ŒåŒ…
å¯¹äºå·²è·å¾—æˆæƒèµ„æ ¼çš„ä¼ä¸šå®¢æˆ·ï¼Œæˆ‘ä»¬ä¼šä¸ºå…¶å¼€æ”¾ **smart-mqttä¼ä¸šç‰ˆå‘è¡ŒåŒ…** çš„ä¸‹è½½æƒé™ã€‚

å»ºè®®ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„jaråŒ…ï¼Œå¹¶è¿åŒ`License.shield`ä¸Šä¼ è‡³å¾…éƒ¨ç½²çš„æœåŠ¡å™¨ã€‚
![](./img/packages.png)

## è°ƒæ•´é…ç½®æ–‡ä»¶
ç¤ºä¾‹ï¼š
```yaml
broker:
  port: 1883
  host: 10.0.24.4
  threadNum: 16
  maxInflight: 8
  retryInterval: 30
  connect:
    idleTimeout: 5000

plugins:
  - enterprise:
      metric:
        enable: true
        period: 5
      openapi:
        enable: true
        port: 8083
        host: 10.0.24.4
      cluster:
        enable: true
        localAddress: mqtt://${current_node}:1883
        nodes:
          - mqtt://${node_1}:1883
          - mqtt://${node_2}:1883
          - mqtt://${node_3}:1883
          - mqtt://${node_4}:1883
  - database:
      dbType: mysql
      url: jdbc:mysql://${host}:${port}/smart_mqtt?autoReconnect=true
      username: ${username}
      password: ${password}
  - websocket:
      port: 1884
```
## å¯åŠ¨æœåŠ¡
å¾…é…ç½®æ–‡ä»¶è°ƒæ•´å®Œæ¯•åï¼Œ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ smart-mqttï¼Œéœ€æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´`${version}`å€¼ã€‚
```shell
nohup java -Dlicense=License.shield \
  -DbrokerConfig=smart-mqtt.yaml \
  -jar  smart-mqtt-broker-enterprise-${version}.jar &
```
è‹¥å¯åŠ¨æˆåŠŸï¼Œæ‰§è¡Œ`tail -f nohup.out` å°†ä¼šçœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š
```shell
                               _                         _    _       _                  _                  
                              ( )_                      ( )_ ( )_    ( )                ( )                 
  ___   ___ ___     _ _  _ __ | ,_)     ___ ___     _ _ | ,_)| ,_)   | |_    _ __   _   | |/')    __   _ __ 
/',__)/' _ ` _ `\ /'_` )( '__)| |     /' _ ` _ `\ /'_` )| |  | |     | '_`\ ( '__)/'_`\ | , <   /'__`\( '__)
\__, \| ( ) ( ) |( (_| || |   | |_    | ( ) ( ) |( (_) || |_ | |_    | |_) )| |  ( (_) )| |\`\ (  ___/| |   
(____/(_) (_) (_)`\__,_)(_)   `\__)   (_) (_) (_)`\__, |`\__)`\__)   (_,__/'(_)  `\___/'(_) (_)`\____)(_)   
                                                     | |                                                    
                                                     (_)                                                    
 :: smart-mqtt broker:: (${version})
â¤ï¸Gitee: https://gitee.com/smartboot/smart-mqtt
Github: https://github.com/smartboot/smart-mqtt
Support: zhengjunweimail@163.com
ğŸ‰start smart-mqtt success! [host:x.x.x.x port:1883]
```