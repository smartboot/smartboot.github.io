(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{385:function(t,s,a){"use strict";a.r(s);var _=a(7),e=Object(_.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"服务配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务配置"}},[t._v("#")]),t._v(" 服务配置")]),t._v(" "),s("p",[t._v("Http 服务运行需要依赖较多的配置项，未来还会继续扩充。\n我们已为大部分配置项设定了默认值，基本达到了开箱即用的程度，如果您有个性化的需求，可以参考本文进行针对性调整。")]),t._v(" "),s("h2",{attrs:{id:"基础配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础配置"}},[t._v("#")]),t._v(" 基础配置")]),t._v(" "),s("p",[t._v("我们将定义在"),s("code",[t._v("HttpBootstrap")]),t._v("中的配置项视为「基础配置」。")]),t._v(" "),s("h3",{attrs:{id:"setport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setport"}},[t._v("#")]),t._v(" setPort")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("入参类型："),s("code",[t._v("int")])])]),t._v(" "),s("li",[s("p",[t._v("默认值： "),s("code",[t._v("8080")])])]),t._v(" "),s("li",[s("p",[t._v("详情："),s("br"),t._v("\n设置 Http 服务的启动监听端口号。")])]),t._v(" "),s("li",[s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpBootstrapDemo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpBootstrap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])])])]),t._v(" "),s("h2",{attrs:{id:"进阶配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进阶配置"}},[t._v("#")]),t._v(" 进阶配置")]),t._v(" "),s("p",[t._v("该类型的配置项存放中"),s("code",[t._v("HttpServerConfiguration")]),t._v("中，可以通过"),s("code",[t._v("HttpBootstrap#configuration")]),t._v("获取引用对象。")]),t._v(" "),s("h3",{attrs:{id:"bannerenabled"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bannerenabled"}},[t._v("#")]),t._v(" bannerEnabled")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("boolean")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("true")])]),t._v(" "),s("li",[t._v("详情："),s("br"),t._v("\n设置是否在控制台打印 smart-http 的启动 banner。"),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("                               _       _      _    _          \n                              ( )_    ( )    ( )_ ( )_        \n  ___   ___ ___     _ _  _ __ | ,_)   | |__  | ,_)| ,_) _ _   \n/',__)/' _ ` _ `\\ /'_` )( '__)| |     |  _ `\\| |  | |  ( '_`\\\n\\__, \\| ( ) ( ) |( (_| || |   | |_    | | | || |_ | |_ | (_) )\n(____/(_) (_) (_)`\\__,_)(_)   `\\__)   (_) (_)`\\__)`\\__)| ,__/'\n                                                       | |    \n                                                       (_)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])])]),t._v(" "),s("h3",{attrs:{id:"readbuffersize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#readbuffersize"}},[t._v("#")]),t._v(" readBufferSize")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("int")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("1024")])]),t._v(" "),s("li",[t._v("详情："),s("br"),t._v("\n读缓冲区字节数。")])]),t._v(" "),s("h3",{attrs:{id:"writebuffersize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#writebuffersize"}},[t._v("#")]),t._v(" writeBufferSize")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("int")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("1024")])]),t._v(" "),s("li",[t._v("详情："),s("br"),t._v("\n写缓冲区字节数。")])]),t._v(" "),s("h3",{attrs:{id:"threadnum"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#threadnum"}},[t._v("#")]),t._v(" threadNum")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("int")])]),t._v(" "),s("li",[t._v("默认值：同 CPU 核数")]),t._v(" "),s("li",[t._v("详情："),s("br"),t._v("\nHttp 服务处理线程数。")])]),t._v(" "),s("h3",{attrs:{id:"host"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[t._v("#")]),t._v(" host")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("String")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("null")])]),t._v(" "),s("li",[t._v("详情："),s("br"),t._v("\n服务端绑定 host 地址。")])]),t._v(" "),s("h3",{attrs:{id:"headerlimiter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#headerlimiter"}},[t._v("#")]),t._v(" headerLimiter")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("int")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("100")])]),t._v(" "),s("li",[t._v("详情："),s("br"),t._v("\n支持解析 Header 的最大个数，超过部分将被忽略。注意：若该配置项若设置太小，可能导致无法识别 websocket 请求。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);